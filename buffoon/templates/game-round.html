{% extends "template.html" %}

{% block body %}
<table border=0 width=50%>
    <tr>
        {% for player in state.players %}
        <td>
            {{ player }}
        </td>
        {% endfor %}
    </tr>
</table>

До завершения <span id='curround'> ?? </span> раунда
осталось <span id='secondsremains'> ?? </span> секунд. <br>

{% for card in state.cards %}
<canvas id="card-{{loop.index}}" width="100" height="100" style="border:1px solid #d3d3d3;">
default
</canvas>
<script type=text/javascript>
    $(drawCard(document.getElementById("card-{{loop.index}}"), "{{card.letter | upper}}", {{card.score}}));
</script>
{% endfor %}

<form id="attempt" action="javascript:sendRoundAttempt();">
    <dl>
        <dt>Ваше слово:
        <dd>
            <input type=text name=word>
            <input type=submit value="Послать">
            <span id="error"></span>
        </dd>
    </dl>
    <p>
</form>

<table>
    <tr>
        <td> Последняя попытка: </td>
        <td> <span id="lastattempt_word"> ?? </span> </td>
        <td> (<span id="lastattempt_score"> ?? </span>) </td>
    </tr>
    <tr>
        <td> Лучшая попытка: </td>
        <td> <span id="bestattempt_word"> ?? </span> </td>
        <td> (<span id="bestattempt_score"> ?? </span>) </td>
    </tr>
</table>


<script type=text/javascript>
    $(window.setInterval(
                function() {
                $.getJSON($SCRIPT_ROOT + "/json/getgamestate", onRoundReply);
                }, 500));
</script>

{% endblock %}

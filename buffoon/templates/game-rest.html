{% extends "template.html" %}

{% block body %}

Закончился {{ state.curround }} раунд.
<table border=0 width=50%>
    <tr>
        <th colspan=2>
            Текущий счёт:
        </th>
    </tr>
    <tr>
        {% for score in state.totalscore %}
        <th>
            {{ score[0] }}
        </th>
        <td>
            {{ score[1] }}
        </td>
        {% endfor %}
    </tr>
</table>

<table border=0 width=50%>
    <tr>
        <th colspan=3>
            Использованные слова
        </th>
    </tr>
    {% for entry in state.usedwords %}
    <tr>
        <th>
            {{ entry[0] }}
        </th>
        <td>
            {{ entry[1].word }} ( {{ entry[1].score }} )
        </td>
    </tr>
    {% endfor %}
</table>

{% if state.state == 'rest': %}
    До начала следующего раунда осталось
    <span id="secondsremains"> {{state.secondsremains}} </span> секунд.

    <script type=text/javascript>
        $(window.setInterval(
                    function() {
                    $.getJSON($SCRIPT_ROOT + "/json/getgamestate", onRestReply);
                    }, 500));
    </script>
{%endif%}

{% endblock %}
